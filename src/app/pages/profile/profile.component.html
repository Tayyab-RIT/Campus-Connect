<div *ngIf="isLoading" class="loader">Loading...</div>
<div *ngIf="errorMessage" class="text-red-700">{{ errorMessage }}</div>
<div *ngIf="!isLoading" class="max-w-4xl mx-auto p-6 bg-white shadow-md rounded-lg">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">User Profile</h2>

    <form (ngSubmit)="saveProfile()" #profileForm="ngForm" class="space-y-6">
        <!-- Full Name -->
        <div>
            <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
            <input type="text" id="fullName" [(ngModel)]="profileData.full_name" name="full_name" required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Profile Picture -->
        <div>
            <label for="profilePicture" class="block text-sm font-medium text-gray-700 mb-1">Profile Picture
                (URL)</label>
            <input type="text" id="profilePicture" [(ngModel)]="profileData.profile_picture" name="profile_picture"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Degree Program -->
        <div>
            <label for="degreeProgram" class="block text-sm font-medium text-gray-700 mb-1">Degree Program</label>
            <input type="text" id="degreeProgram" [(ngModel)]="profileData.degree_program" name="degree_program"
                required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Year of Study -->
        <div>
            <label for="yearOfStudy" class="block text-sm font-medium text-gray-700 mb-1">Year of Study</label>
            <input type="number" id="yearOfStudy" [(ngModel)]="profileData.year_of_study" name="year_of_study" required
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- GPA -->
        <div>
            <label for="gpa" class="block text-sm font-medium text-gray-700 mb-1">GPA</label>
            <input type="number" id="gpa" [(ngModel)]="profileData.gpa" name="gpa" step="0.01" min="0" max="4"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Skills -->
        <div>
            <label for="skills" class="block text-sm font-medium text-gray-700 mb-1">Skills (comma-separated)</label>
            <input type="text" id="skills" [(ngModel)]="profileData.skills" name="skills"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Experiences -->
        <div>
            <label for="experiences" class="block text-sm font-medium text-gray-700 mb-1">Experiences</label>
            <input type="text" id="experiences" [(ngModel)]="profileData.experiences" name="experiences"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Certificates -->
        <div>
            <label for="skills" class="block text-sm font-medium text-gray-700 mb-1">Certifications
                (comma-separated)</label>
            <input type="text" id="certificates" [(ngModel)]="profileData.certificates" name="certificates"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- LinkedIn -->
        <div>
            <label for="linkedin" class="block text-sm font-medium text-gray-700 mb-1">LinkedIn Profile</label>
            <input type="url" id="linkedin" [(ngModel)]="profileData.linkedin_url" name="linkedin_url"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Github -->
        <div>
            <label for="github" class="block text-sm font-medium text-gray-700 mb-1">github Profile</label>
            <input type="url" id="github" [(ngModel)]="profileData.github_url" name="github_url"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Instagram -->
        <div>
            <label for="instagram" class="block text-sm font-medium text-gray-700 mb-1">instagram Profile</label>
            <input type="url" id="instagram" [(ngModel)]="profileData.instagram_url" name="instagram_url"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Twitter -->
        <div>
            <label for="twitter" class="block text-sm font-medium text-gray-700 mb-1">twitter Profile</label>
            <input type="url" id="twitter" [(ngModel)]="profileData.twitter_url" name="twitter_url"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Portfolio -->
        <div>
            <label for="portfolio" class="block text-sm font-medium text-gray-700 mb-1">portfolio Profile</label>
            <input type="url" id="portfolio" [(ngModel)]="profileData.portfolio_url" name="portfolio_url"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500" />
        </div>

        <!-- Save Button -->
        <div class="text-right">
            <button type="submit" [disabled]="isSaving"
                class="bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg shadow-md focus:ring-2 focus:ring-orange-400 focus:ring-offset-2">
                Save
            </button>
        </div>
    </form>
</div>